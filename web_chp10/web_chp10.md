# テスト

## 課題３（質問）


### そもそも、なぜ元の関数はカバレッジ100%のテストを書けなかったのでしょうか？
Error のコードにたどり着かない

### 依存性の注入とは何でしょうか？どのような問題を解決するために使われるのでしょうか？

本来外部モジュールを呼び出す場合、その外部モジュールの変更に強い影響を受ける。
呼び出す側が、依存しているモジュールの抽象を指定することで、依存関係を反転させる。

https://at-grandpa.hatenablog.jp/entry/dip

### 依存性の注入を実施することで、モジュール同士の結合度の強さはどのように変化したでしょうか？

反転した。

### 今回のような単体テストで外部サービスとの通信が発生すると、どのようなデメリットがあるでしょうか？

そのサービスが停止していると、単体テストが常に落ちてしまう。

### umOfArrayに空の配列を渡すと例外が発生します。これは好ましい挙動ではありません。

```ts
export const sumOfArray = (numbers: number[]): number => {
  return numbers.reduce(((a: number, b: number): number => a + b), 0);
};
```

## 課題4

quiz.ts にあります。

### Jest に関するクイズ

- Jestを開発している企業はどこ？

→FaceBook

- モックとスタブの違いは？

スタブは「受信メッセージのテスト」のために使う

（あるオブジェクトを受け取って何か処理を行う関数などの場合、そのオブジェクト自体の正しさはそのオブジェクトの単体テストで保証してもらえるので、スタブで代用する）

モックは「送信メッセージのテスト」のために使う

（外部サービスなどへのメッセージ送信を行うときなどは、そのサービスをモック化する。）

- マッチャーとは？

値がある条件を満たすことをアサートするために、 expect を使用してアクセスする関数。

  - .toBe(value)
  - .toBeCloseTo(number, numDigits?)
